<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>plibsys: puthread.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">plibsys<span id="projectnumber">&#160;0.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3a0b7d3a3e79d1c4236c98884ce82128.html">plibsys</a></li><li class="navelem"><a class="el" href="dir_23d65ea3503364d4c78c4aec4f946d15.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">puthread.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Multithreading support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="pmacros_8h_source.html">pmacros.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ptypes_8h_source.html">ptypes.h</a>&gt;</code><br />
</div>
<p><a href="puthread_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac63898e2a9ce6ebd53da0fc7cb1e7901" id="r_ac63898e2a9ce6ebd53da0fc7cb1e7901"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac63898e2a9ce6ebd53da0fc7cb1e7901">PUThreadFunc</a>) (<a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> arg)</td></tr>
<tr class="memdesc:ac63898e2a9ce6ebd53da0fc7cb1e7901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for a <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> running method.  <br /></td></tr>
<tr class="separator:ac63898e2a9ce6ebd53da0fc7cb1e7901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa81574c330c05ecc18c53fc74da902" id="r_aeaa81574c330c05ecc18c53fc74da902"><td class="memItemLeft" align="right" valign="top">typedef struct PUThread_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a></td></tr>
<tr class="memdesc:aeaa81574c330c05ecc18c53fc74da902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread opaque data type.  <br /></td></tr>
<tr class="separator:aeaa81574c330c05ecc18c53fc74da902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad207b64e8f1b86d644d064165e6abbc4" id="r_ad207b64e8f1b86d644d064165e6abbc4"><td class="memItemLeft" align="right" valign="top">typedef struct PUThreadKey_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a></td></tr>
<tr class="memdesc:ad207b64e8f1b86d644d064165e6abbc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">TLS key opaque data type.  <br /></td></tr>
<tr class="separator:ad207b64e8f1b86d644d064165e6abbc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5c2486efcbc5cbf6c6de9f5cce97c8" id="r_aff5c2486efcbc5cbf6c6de9f5cce97c8"><td class="memItemLeft" align="right" valign="top"><a id="aff5c2486efcbc5cbf6c6de9f5cce97c8" name="aff5c2486efcbc5cbf6c6de9f5cce97c8"></a>
typedef enum <a class="el" href="#a95ded59f3f640374afe977173df9e199">PUThreadPriority_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>PUThreadPriority</b></td></tr>
<tr class="memdesc:aff5c2486efcbc5cbf6c6de9f5cce97c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread priority. <br /></td></tr>
<tr class="separator:aff5c2486efcbc5cbf6c6de9f5cce97c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a95ded59f3f640374afe977173df9e199" id="r_a95ded59f3f640374afe977173df9e199"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95ded59f3f640374afe977173df9e199">PUThreadPriority_</a> { <br />
&#160;&#160;<a class="el" href="#a95ded59f3f640374afe977173df9e199a4dd26b8ec1685bd21484ce582db91322">P_UTHREAD_PRIORITY_INHERIT</a> = 0
, <a class="el" href="#a95ded59f3f640374afe977173df9e199ad15e2f7da0279059196f7e56fd967dc7">P_UTHREAD_PRIORITY_IDLE</a> = 1
, <a class="el" href="#a95ded59f3f640374afe977173df9e199a80c5cca13750dc7798a794eb3fc6a531">P_UTHREAD_PRIORITY_LOWEST</a> = 2
, <a class="el" href="#a95ded59f3f640374afe977173df9e199a338e645050a299772806ca1d9af23cfb">P_UTHREAD_PRIORITY_LOW</a> = 3
, <br />
&#160;&#160;<a class="el" href="#a95ded59f3f640374afe977173df9e199a74ca1640e5d5a493501116e9b355d94c">P_UTHREAD_PRIORITY_NORMAL</a> = 4
, <a class="el" href="#a95ded59f3f640374afe977173df9e199af6d48da253f610f3295baf7146363c2b">P_UTHREAD_PRIORITY_HIGH</a> = 5
, <a class="el" href="#a95ded59f3f640374afe977173df9e199af3c3794160808dc9af750138b9f571f9">P_UTHREAD_PRIORITY_HIGHEST</a> = 6
, <a class="el" href="#a95ded59f3f640374afe977173df9e199a47a3b60a088a549a3ee36e1c10788382">P_UTHREAD_PRIORITY_TIMECRITICAL</a> = 7
<br />
 }</td></tr>
<tr class="memdesc:a95ded59f3f640374afe977173df9e199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread priority.  <a href="#a95ded59f3f640374afe977173df9e199">More...</a><br /></td></tr>
<tr class="separator:a95ded59f3f640374afe977173df9e199"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab9de4f107fba7ab9dc3fba157240071e" id="r_ab9de4f107fba7ab9dc3fba157240071e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9de4f107fba7ab9dc3fba157240071e">p_uthread_create_full</a> (<a class="el" href="#ac63898e2a9ce6ebd53da0fc7cb1e7901">PUThreadFunc</a> func, <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> data, <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a> joinable, <a class="el" href="#aff5c2486efcbc5cbf6c6de9f5cce97c8">PUThreadPriority</a> prio, <a class="el" href="ptypes_8h.html#a25a50ea8cd288f85c8f366955716c080">psize</a> stack_size, const <a class="el" href="ptypes_8h.html#a248e4ab1104e259e4c6cf5714551060e">pchar</a> *name)</td></tr>
<tr class="memdesc:ab9de4f107fba7ab9dc3fba157240071e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> and starts it.  <br /></td></tr>
<tr class="separator:ab9de4f107fba7ab9dc3fba157240071e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcea56370db541d5782cb414794fbe1d" id="r_afcea56370db541d5782cb414794fbe1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcea56370db541d5782cb414794fbe1d">p_uthread_create</a> (<a class="el" href="#ac63898e2a9ce6ebd53da0fc7cb1e7901">PUThreadFunc</a> func, <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> data, <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a> joinable, const <a class="el" href="ptypes_8h.html#a248e4ab1104e259e4c6cf5714551060e">pchar</a> *name)</td></tr>
<tr class="memdesc:afcea56370db541d5782cb414794fbe1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> and starts it.  <br /></td></tr>
<tr class="separator:afcea56370db541d5782cb414794fbe1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2430bc418165189a70a2081512f46e92" id="r_a2430bc418165189a70a2081512f46e92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2430bc418165189a70a2081512f46e92">p_uthread_exit</a> (<a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a> code)</td></tr>
<tr class="memdesc:a2430bc418165189a70a2081512f46e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exits from the currently running (caller) thread.  <br /></td></tr>
<tr class="separator:a2430bc418165189a70a2081512f46e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471c931fe4ebe8bdb7f43883400ea980" id="r_a471c931fe4ebe8bdb7f43883400ea980"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a471c931fe4ebe8bdb7f43883400ea980">p_uthread_join</a> (<a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *thread)</td></tr>
<tr class="memdesc:a471c931fe4ebe8bdb7f43883400ea980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the selected thread to become finished.  <br /></td></tr>
<tr class="separator:a471c931fe4ebe8bdb7f43883400ea980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d042032a0baf0f902daf9b99a587368" id="r_a5d042032a0baf0f902daf9b99a587368"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d042032a0baf0f902daf9b99a587368">p_uthread_sleep</a> (<a class="el" href="ptypes_8h.html#afaedf73f4f82ea83d9300325d8fdfa84">puint32</a> msec)</td></tr>
<tr class="memdesc:a5d042032a0baf0f902daf9b99a587368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleeps the current thread (caller) for a specified amount of time.  <br /></td></tr>
<tr class="separator:a5d042032a0baf0f902daf9b99a587368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cafc8291ab89bc9dc2f5537c6dd35db" id="r_a6cafc8291ab89bc9dc2f5537c6dd35db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cafc8291ab89bc9dc2f5537c6dd35db">p_uthread_set_priority</a> (<a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *thread, <a class="el" href="#aff5c2486efcbc5cbf6c6de9f5cce97c8">PUThreadPriority</a> prio)</td></tr>
<tr class="memdesc:a6cafc8291ab89bc9dc2f5537c6dd35db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a thread priority.  <br /></td></tr>
<tr class="separator:a6cafc8291ab89bc9dc2f5537c6dd35db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4203a45703d0bd6956c13dc25c2d6df0" id="r_a4203a45703d0bd6956c13dc25c2d6df0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4203a45703d0bd6956c13dc25c2d6df0">p_uthread_yield</a> (void)</td></tr>
<tr class="memdesc:a4203a45703d0bd6956c13dc25c2d6df0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the scheduler to skip the current (caller) thread in the current planning stage.  <br /></td></tr>
<tr class="separator:a4203a45703d0bd6956c13dc25c2d6df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12d16b1cde546d8b5d51c8bc716b3e2f" id="r_a12d16b1cde546d8b5d51c8bc716b3e2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a412ccf10c7877ef79de2fb1e4e4529fc">P_HANDLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12d16b1cde546d8b5d51c8bc716b3e2f">p_uthread_current_id</a> (void)</td></tr>
<tr class="memdesc:a12d16b1cde546d8b5d51c8bc716b3e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an ID of the current (caller) thread.  <br /></td></tr>
<tr class="separator:a12d16b1cde546d8b5d51c8bc716b3e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751dcd335fd6ee990b1e6e25bd6506ff" id="r_a751dcd335fd6ee990b1e6e25bd6506ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a751dcd335fd6ee990b1e6e25bd6506ff">p_uthread_current</a> (void)</td></tr>
<tr class="memdesc:a751dcd335fd6ee990b1e6e25bd6506ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a thread structure of the current (caller) thread.  <br /></td></tr>
<tr class="separator:a751dcd335fd6ee990b1e6e25bd6506ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a441228552ba031cab196eafab1ff5536" id="r_a441228552ba031cab196eafab1ff5536"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a441228552ba031cab196eafab1ff5536">p_uthread_ideal_count</a> (void)</td></tr>
<tr class="memdesc:a441228552ba031cab196eafab1ff5536"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the ideal number of threads for the system based on the number of avaialble CPUs and cores (physical and logical).  <br /></td></tr>
<tr class="separator:a441228552ba031cab196eafab1ff5536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693b44e6a1f0a01e854e99a57e7e6052" id="r_a693b44e6a1f0a01e854e99a57e7e6052"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a693b44e6a1f0a01e854e99a57e7e6052">p_uthread_ref</a> (<a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *thread)</td></tr>
<tr class="memdesc:a693b44e6a1f0a01e854e99a57e7e6052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments a thread reference counter.  <br /></td></tr>
<tr class="separator:a693b44e6a1f0a01e854e99a57e7e6052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af10134f5c731f4f8bae17bc2a592f549" id="r_af10134f5c731f4f8bae17bc2a592f549"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af10134f5c731f4f8bae17bc2a592f549">p_uthread_unref</a> (<a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *thread)</td></tr>
<tr class="memdesc:af10134f5c731f4f8bae17bc2a592f549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements a thread reference counter.  <br /></td></tr>
<tr class="separator:af10134f5c731f4f8bae17bc2a592f549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1064622a1394b228e59bd691a5b3255" id="r_ac1064622a1394b228e59bd691a5b3255"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1064622a1394b228e59bd691a5b3255">p_uthread_local_new</a> (<a class="el" href="ptypes_8h.html#a15ed6627d4b5dcdf233b94d6e8d51afc">PDestroyFunc</a> free_func)</td></tr>
<tr class="memdesc:ac1064622a1394b228e59bd691a5b3255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new TLS reference key.  <br /></td></tr>
<tr class="separator:ac1064622a1394b228e59bd691a5b3255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559fa3294ba2bd5743f21f0431a676a8" id="r_a559fa3294ba2bd5743f21f0431a676a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a559fa3294ba2bd5743f21f0431a676a8">p_uthread_local_free</a> (<a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *key)</td></tr>
<tr class="memdesc:a559fa3294ba2bd5743f21f0431a676a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a TLS reference key.  <br /></td></tr>
<tr class="separator:a559fa3294ba2bd5743f21f0431a676a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6097daf477cc930680ae61cada1fa59" id="r_ad6097daf477cc930680ae61cada1fa59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6097daf477cc930680ae61cada1fa59">p_uthread_get_local</a> (<a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *key)</td></tr>
<tr class="memdesc:ad6097daf477cc930680ae61cada1fa59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a TLS value.  <br /></td></tr>
<tr class="separator:ad6097daf477cc930680ae61cada1fa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d1ff49ec36755b80e6524568c037ac" id="r_a09d1ff49ec36755b80e6524568c037ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09d1ff49ec36755b80e6524568c037ac">p_uthread_set_local</a> (<a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *key, <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> value)</td></tr>
<tr class="memdesc:a09d1ff49ec36755b80e6524568c037ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a TLS value.  <br /></td></tr>
<tr class="separator:a09d1ff49ec36755b80e6524568c037ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef268426c69eeb7088094d779295883" id="r_a0ef268426c69eeb7088094d779295883"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ef268426c69eeb7088094d779295883">p_uthread_replace_local</a> (<a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *key, <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> value)</td></tr>
<tr class="memdesc:a0ef268426c69eeb7088094d779295883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces a TLS value.  <br /></td></tr>
<tr class="separator:a0ef268426c69eeb7088094d779295883"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Multithreading support. </p>
<dl class="section author"><dt>Author</dt><dd>Alexander Saprykin</dd></dl>
<p>A thread is a system execution unit which is managed independently by the scheduler of the operating system. It allows to do things in parallel or concurrently.</p>
<p><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> provides a convinient way of multithreading support using native routines to provide the best performance on the target system.</p>
<p>To create the thread use the <a class="el" href="#afcea56370db541d5782cb414794fbe1d" title="Creates a PUThread and starts it.">p_uthread_create()</a> or <a class="el" href="#ab9de4f107fba7ab9dc3fba157240071e" title="Creates a new PUThread and starts it.">p_uthread_create_full()</a> routines. Joinable threads allow to wait until their execution is finished before proceeding further. Thus you can synchronize threads' execution within the main thread.</p>
<p>A reference counter mechanism is used to keep track of a <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> structure. It means that the structure will be freed automatically when the reference counter becomes zero. Use <a class="el" href="#a693b44e6a1f0a01e854e99a57e7e6052" title="Increments a thread reference counter.">p_uthread_ref()</a> to hold the structure and <a class="el" href="#af10134f5c731f4f8bae17bc2a592f549" title="Decrements a thread reference counter.">p_uthread_unref()</a> to decrement the counter back. A running thread holds a reference to itself structure, so you do not require to hold a reference to the thread while it is running.</p>
<p>Priorities (if supported) allow to tune scheduler behavior: threads with higher priority will be executed more frequently. Be careful that improper priorities may lead to negative effects when some threads may receive almost zero execution time.</p>
<p>Thread priorities are unreliable: not all operating systems respect thread priorities in favour of process ones. Priorities may be ignored for bound threads (every thread bound to a kernel light-weight thread as 1:1), other systems may require administrative privileges to change the thread priority (i.e. Linux). Windows always respects thread priorities.</p>
<p>To put the current thread (even if it was not created using the <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> routines) in a sleep state use <a class="el" href="#a5d042032a0baf0f902daf9b99a587368" title="Sleeps the current thread (caller) for a specified amount of time.">p_uthread_sleep()</a>.</p>
<p>You can give a hint to the scheduler that the current thread do not need an execution time with the <a class="el" href="#a4203a45703d0bd6956c13dc25c2d6df0" title="Tells the scheduler to skip the current (caller) thread in the current planning stage.">p_uthread_yield()</a> routine. This is useful when some of the threads are in an idle state so you do not want to waste a CPU time. This only tells to the scheduler to skip the current scheduling cycle for the calling thread, though the scheduler can ingnore it.</p>
<p>A thread local storage (TLS) is provided. The TLS key's value can be accessed through a reference key defined as a <a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4" title="TLS key opaque data type.">PUThreadKey</a>. A TLS reference key is some sort of a token which has an associated value. But every thread has its own token value though using the same token object.</p>
<p>After creating the TLS reference key every thread can use it to access a local-specific value. Use the <a class="el" href="#ac1064622a1394b228e59bd691a5b3255" title="Create a new TLS reference key.">p_uthread_local_new()</a> call to create the TLS reference key and pass it to every thread which needs local-specific values. You can also provide a destroy notification function which would be called upon a TLS key removal which is usually performed on the thread exit.</p>
<p>There are two calls to set a TLS key's value: <a class="el" href="#a09d1ff49ec36755b80e6524568c037ac" title="Sets a TLS value.">p_uthread_set_local()</a> and <a class="el" href="#a0ef268426c69eeb7088094d779295883" title="Replaces a TLS value.">p_uthread_replace_local()</a>. The only difference is that the former one calls the provided destroy notification function before replacing the old value.</p>
<p>Thread names are used on most of operating systems for debugging purposes, thereby some limitations for long name can be applied and too long names will be truncated automatically. </p>

<p class="definition">Definition in file <a class="el" href="puthread_8h_source.html">puthread.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aeaa81574c330c05ecc18c53fc74da902" name="aeaa81574c330c05ecc18c53fc74da902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa81574c330c05ecc18c53fc74da902">&#9670;&#160;</a></span>PUThread</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct PUThread_ <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread opaque data type. </p>

<p class="definition">Definition at line <a class="el" href="puthread_8h_source.html#l00106">106</a> of file <a class="el" href="puthread_8h_source.html">puthread.h</a>.</p>

</div>
</div>
<a id="ac63898e2a9ce6ebd53da0fc7cb1e7901" name="ac63898e2a9ce6ebd53da0fc7cb1e7901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac63898e2a9ce6ebd53da0fc7cb1e7901">&#9670;&#160;</a></span>PUThreadFunc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>(* PUThreadFunc) (<a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> arg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for a <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> running method. </p>

<p class="definition">Definition at line <a class="el" href="puthread_8h_source.html#l00103">103</a> of file <a class="el" href="puthread_8h_source.html">puthread.h</a>.</p>

</div>
</div>
<a id="ad207b64e8f1b86d644d064165e6abbc4" name="ad207b64e8f1b86d644d064165e6abbc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad207b64e8f1b86d644d064165e6abbc4">&#9670;&#160;</a></span>PUThreadKey</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct PUThreadKey_ <a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TLS key opaque data type. </p>

<p class="definition">Definition at line <a class="el" href="puthread_8h_source.html#l00109">109</a> of file <a class="el" href="puthread_8h_source.html">puthread.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a95ded59f3f640374afe977173df9e199" name="a95ded59f3f640374afe977173df9e199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ded59f3f640374afe977173df9e199">&#9670;&#160;</a></span>PUThreadPriority_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a95ded59f3f640374afe977173df9e199">PUThreadPriority_</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread priority. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199a4dd26b8ec1685bd21484ce582db91322" name="a95ded59f3f640374afe977173df9e199a4dd26b8ec1685bd21484ce582db91322"></a>P_UTHREAD_PRIORITY_INHERIT&#160;</td><td class="fielddoc"><p>Inherits the caller thread priority. </p>
<p>Default priority. <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199ad15e2f7da0279059196f7e56fd967dc7" name="a95ded59f3f640374afe977173df9e199ad15e2f7da0279059196f7e56fd967dc7"></a>P_UTHREAD_PRIORITY_IDLE&#160;</td><td class="fielddoc"><p>Scheduled only when no other threads are running. </p>
<p><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199a80c5cca13750dc7798a794eb3fc6a531" name="a95ded59f3f640374afe977173df9e199a80c5cca13750dc7798a794eb3fc6a531"></a>P_UTHREAD_PRIORITY_LOWEST&#160;</td><td class="fielddoc"><p>Scheduled less often than <a class="el" href="#a95ded59f3f640374afe977173df9e199a338e645050a299772806ca1d9af23cfb" title="Scheduled less often than P_UTHREAD_PRIORITY_NORMAL.">P_UTHREAD_PRIORITY_LOW</a>. </p>
<p><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199a338e645050a299772806ca1d9af23cfb" name="a95ded59f3f640374afe977173df9e199a338e645050a299772806ca1d9af23cfb"></a>P_UTHREAD_PRIORITY_LOW&#160;</td><td class="fielddoc"><p>Scheduled less often than <a class="el" href="#a95ded59f3f640374afe977173df9e199a74ca1640e5d5a493501116e9b355d94c" title="Operating system&#39;s default priority.">P_UTHREAD_PRIORITY_NORMAL</a>. </p>
<p><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199a74ca1640e5d5a493501116e9b355d94c" name="a95ded59f3f640374afe977173df9e199a74ca1640e5d5a493501116e9b355d94c"></a>P_UTHREAD_PRIORITY_NORMAL&#160;</td><td class="fielddoc"><p>Operating system's default priority. </p>
<p><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199af6d48da253f610f3295baf7146363c2b" name="a95ded59f3f640374afe977173df9e199af6d48da253f610f3295baf7146363c2b"></a>P_UTHREAD_PRIORITY_HIGH&#160;</td><td class="fielddoc"><p>Scheduled more often than <a class="el" href="#a95ded59f3f640374afe977173df9e199a74ca1640e5d5a493501116e9b355d94c" title="Operating system&#39;s default priority.">P_UTHREAD_PRIORITY_NORMAL</a>. </p>
<p><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199af3c3794160808dc9af750138b9f571f9" name="a95ded59f3f640374afe977173df9e199af3c3794160808dc9af750138b9f571f9"></a>P_UTHREAD_PRIORITY_HIGHEST&#160;</td><td class="fielddoc"><p>Scheduled more often than <a class="el" href="#a95ded59f3f640374afe977173df9e199af6d48da253f610f3295baf7146363c2b" title="Scheduled more often than P_UTHREAD_PRIORITY_NORMAL.">P_UTHREAD_PRIORITY_HIGH</a>. </p>
<p><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a95ded59f3f640374afe977173df9e199a47a3b60a088a549a3ee36e1c10788382" name="a95ded59f3f640374afe977173df9e199a47a3b60a088a549a3ee36e1c10788382"></a>P_UTHREAD_PRIORITY_TIMECRITICAL&#160;</td><td class="fielddoc"><p>Scheduled as often as possible. </p>
<p><br  />
 </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="puthread_8h_source.html#l00112">112</a> of file <a class="el" href="puthread_8h_source.html">puthread.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afcea56370db541d5782cb414794fbe1d" name="afcea56370db541d5782cb414794fbe1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcea56370db541d5782cb414794fbe1d">&#9670;&#160;</a></span>p_uthread_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> * p_uthread_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ac63898e2a9ce6ebd53da0fc7cb1e7901">PUThreadFunc</a></td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a></td>          <td class="paramname"><span class="paramname"><em>joinable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ptypes_8h.html#a248e4ab1104e259e4c6cf5714551060e">pchar</a> *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> and starts it. </p>
<p>A short version of <a class="el" href="#ab9de4f107fba7ab9dc3fba157240071e" title="Creates a new PUThread and starts it.">p_uthread_create_full()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Main thread function to run. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to pass into the thread main function, may be NULL. </td></tr>
    <tr><td class="paramname">joinable</td><td>Whether to create a joinable thread or not. </td></tr>
    <tr><td class="paramname">name</td><td>Thread name, maybe NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> in case of success, NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Unreference the returned value after use with <a class="el" href="#af10134f5c731f4f8bae17bc2a592f549" title="Decrements a thread reference counter.">p_uthread_unref()</a>. You do not need to call <a class="el" href="#a693b44e6a1f0a01e854e99a57e7e6052" title="Increments a thread reference counter.">p_uthread_ref()</a> explicitly on the returned value. </dd></dl>

</div>
</div>
<a id="ab9de4f107fba7ab9dc3fba157240071e" name="ab9de4f107fba7ab9dc3fba157240071e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9de4f107fba7ab9dc3fba157240071e">&#9670;&#160;</a></span>p_uthread_create_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> * p_uthread_create_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ac63898e2a9ce6ebd53da0fc7cb1e7901">PUThreadFunc</a></td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a></td>          <td class="paramname"><span class="paramname"><em>joinable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aff5c2486efcbc5cbf6c6de9f5cce97c8">PUThreadPriority</a></td>          <td class="paramname"><span class="paramname"><em>prio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a25a50ea8cd288f85c8f366955716c080">psize</a></td>          <td class="paramname"><span class="paramname"><em>stack_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ptypes_8h.html#a248e4ab1104e259e4c6cf5714551060e">pchar</a> *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> and starts it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Main thread function to run. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to pass into the thread main function, may be NULL. </td></tr>
    <tr><td class="paramname">joinable</td><td>Whether to create a joinable thread or not. </td></tr>
    <tr><td class="paramname">prio</td><td>Thread priority. </td></tr>
    <tr><td class="paramname">stack_size</td><td>Thread stack size, in bytes. Leave zero to use a default value. </td></tr>
    <tr><td class="paramname">name</td><td>Thread name, maybe NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> in case of success, NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Unreference the returned value after use with <a class="el" href="#af10134f5c731f4f8bae17bc2a592f549" title="Decrements a thread reference counter.">p_uthread_unref()</a>. You do not need to call <a class="el" href="#a693b44e6a1f0a01e854e99a57e7e6052" title="Increments a thread reference counter.">p_uthread_ref()</a> explicitly on the returned value. </dd></dl>

</div>
</div>
<a id="a751dcd335fd6ee990b1e6e25bd6506ff" name="a751dcd335fd6ee990b1e6e25bd6506ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751dcd335fd6ee990b1e6e25bd6506ff">&#9670;&#160;</a></span>p_uthread_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> * p_uthread_current </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a thread structure of the current (caller) thread. </p>
<dl class="section return"><dt>Returns</dt><dd>The thread structure of the current thread. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This call doesn't not increment the reference counter of the returned structure.</dd></dl>
<p>A thread structure will be returned even for the thread which was created outside the library. But you should not use thread manipulation routines over that structure. </p>

</div>
</div>
<a id="a12d16b1cde546d8b5d51c8bc716b3e2f" name="a12d16b1cde546d8b5d51c8bc716b3e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d16b1cde546d8b5d51c8bc716b3e2f">&#9670;&#160;</a></span>p_uthread_current_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a412ccf10c7877ef79de2fb1e4e4529fc">P_HANDLE</a> p_uthread_current_id </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an ID of the current (caller) thread. </p>
<dl class="section return"><dt>Returns</dt><dd>The ID of the current thread. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>This is a platform-dependent type. You shouldn't treat it as a number, it only gives you the uniquer ID of the thread accross the system. </p>

</div>
</div>
<a id="a2430bc418165189a70a2081512f46e92" name="a2430bc418165189a70a2081512f46e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2430bc418165189a70a2081512f46e92">&#9670;&#160;</a></span>p_uthread_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a></td>          <td class="paramname"><span class="paramname"><em>code</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exits from the currently running (caller) thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>Exit code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="ad6097daf477cc930680ae61cada1fa59" name="ad6097daf477cc930680ae61cada1fa59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6097daf477cc930680ae61cada1fa59">&#9670;&#160;</a></span>p_uthread_get_local()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> p_uthread_get_local </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a TLS value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>TLS reference key to get the value for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TLS value for the given key. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This call may fail only in case of abnormal use or program behavior, the NULL value will be returned to tolerance the failure. </dd></dl>

</div>
</div>
<a id="a441228552ba031cab196eafab1ff5536" name="a441228552ba031cab196eafab1ff5536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a441228552ba031cab196eafab1ff5536">&#9670;&#160;</a></span>p_uthread_ideal_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a> p_uthread_ideal_count </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the ideal number of threads for the system based on the number of avaialble CPUs and cores (physical and logical). </p>
<dl class="section return"><dt>Returns</dt><dd>Ideal number of threads, 1 in case of failed detection. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.3 </dd></dl>

</div>
</div>
<a id="a471c931fe4ebe8bdb7f43883400ea980" name="a471c931fe4ebe8bdb7f43883400ea980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a471c931fe4ebe8bdb7f43883400ea980">&#9670;&#160;</a></span>p_uthread_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a> p_uthread_join </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *</td>          <td class="paramname"><span class="paramname"><em>thread</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for the selected thread to become finished. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>Thread to wait for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Thread exit code in case of success, -1 otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Thread must be joinable to return the non-negative result. </dd></dl>

</div>
</div>
<a id="a559fa3294ba2bd5743f21f0431a676a8" name="a559fa3294ba2bd5743f21f0431a676a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559fa3294ba2bd5743f21f0431a676a8">&#9670;&#160;</a></span>p_uthread_local_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_local_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a TLS reference key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>TLS reference key to free. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>It doesn't remove the TLS key itself but only removes a reference used to access the TLS slot. </p>

</div>
</div>
<a id="ac1064622a1394b228e59bd691a5b3255" name="ac1064622a1394b228e59bd691a5b3255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1064622a1394b228e59bd691a5b3255">&#9670;&#160;</a></span>p_uthread_local_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> * p_uthread_local_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a15ed6627d4b5dcdf233b94d6e8d51afc">PDestroyFunc</a></td>          <td class="paramname"><span class="paramname"><em>free_func</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new TLS reference key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">free_func</td><td>TLS key destroy notification call, leave NULL if not need. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New TLS reference key in case of success, NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="a693b44e6a1f0a01e854e99a57e7e6052" name="a693b44e6a1f0a01e854e99a57e7e6052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693b44e6a1f0a01e854e99a57e7e6052">&#9670;&#160;</a></span>p_uthread_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *</td>          <td class="paramname"><span class="paramname"><em>thread</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments a thread reference counter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> to increment the reference counter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> object will not be removed until the reference counter is positive. </dd></dl>

</div>
</div>
<a id="a0ef268426c69eeb7088094d779295883" name="a0ef268426c69eeb7088094d779295883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ef268426c69eeb7088094d779295883">&#9670;&#160;</a></span>p_uthread_replace_local()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_replace_local </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a></td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces a TLS value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>TLS reference key to replace the value for. </td></tr>
    <tr><td class="paramname">value</td><td>TLS value to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This call may fail only in case of abnormal use or program behavior.</dd></dl>
<p>This call does perform the notification function provided with <a class="el" href="#ac1064622a1394b228e59bd691a5b3255" title="Create a new TLS reference key.">p_uthread_local_new()</a> on the old TLS value. This is the only difference with <a class="el" href="#a09d1ff49ec36755b80e6524568c037ac" title="Sets a TLS value.">p_uthread_set_local()</a>. </p>

</div>
</div>
<a id="a09d1ff49ec36755b80e6524568c037ac" name="a09d1ff49ec36755b80e6524568c037ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d1ff49ec36755b80e6524568c037ac">&#9670;&#160;</a></span>p_uthread_set_local()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_set_local </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad207b64e8f1b86d644d064165e6abbc4">PUThreadKey</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a></td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a TLS value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>TLS reference key to set the value for. </td></tr>
    <tr><td class="paramname">value</td><td>TLS value to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This call may fail only in case of abnormal use or program behavior.</dd></dl>
<p>It doesn't call the destructor notification function provided with <a class="el" href="#ac1064622a1394b228e59bd691a5b3255" title="Create a new TLS reference key.">p_uthread_local_new()</a>. </p>

</div>
</div>
<a id="a6cafc8291ab89bc9dc2f5537c6dd35db" name="a6cafc8291ab89bc9dc2f5537c6dd35db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cafc8291ab89bc9dc2f5537c6dd35db">&#9670;&#160;</a></span>p_uthread_set_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a> p_uthread_set_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *</td>          <td class="paramname"><span class="paramname"><em>thread</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aff5c2486efcbc5cbf6c6de9f5cce97c8">PUThreadPriority</a></td>          <td class="paramname"><span class="paramname"><em>prio</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a thread priority. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>Thread to set the priority for. </td></tr>
    <tr><td class="paramname">prio</td><td>Priority to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE in case of success, FALSE otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="a5d042032a0baf0f902daf9b99a587368" name="a5d042032a0baf0f902daf9b99a587368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d042032a0baf0f902daf9b99a587368">&#9670;&#160;</a></span>p_uthread_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a9ec24ad7a25b7ff36c75d4e74d46b85f">pint</a> p_uthread_sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#afaedf73f4f82ea83d9300325d8fdfa84">puint32</a></td>          <td class="paramname"><span class="paramname"><em>msec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleeps the current thread (caller) for a specified amount of time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msec</td><td>Milliseconds to sleep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, -1 otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="af10134f5c731f4f8bae17bc2a592f549" name="af10134f5c731f4f8bae17bc2a592f549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af10134f5c731f4f8bae17bc2a592f549">&#9670;&#160;</a></span>p_uthread_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_unref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902">PUThread</a> *</td>          <td class="paramname"><span class="paramname"><em>thread</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrements a thread reference counter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td><a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> to decrement the reference counter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>When the reference counter becomes zero the <a class="el" href="#aeaa81574c330c05ecc18c53fc74da902" title="Thread opaque data type.">PUThread</a> is removed from the memory. </dd></dl>

</div>
</div>
<a id="a4203a45703d0bd6956c13dc25c2d6df0" name="a4203a45703d0bd6956c13dc25c2d6df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4203a45703d0bd6956c13dc25c2d6df0">&#9670;&#160;</a></span>p_uthread_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_uthread_yield </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the scheduler to skip the current (caller) thread in the current planning stage. </p>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>The scheduler shouldn't give time ticks for the current thread during the current period, but it may ignore this call. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
