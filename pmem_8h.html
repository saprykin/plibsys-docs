<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>plibsys: pmem.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">plibsys
   &#160;<span id="projectnumber">0.0.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3a0b7d3a3e79d1c4236c98884ce82128.html">plibsys</a></li><li class="navelem"><a class="el" href="dir_23d65ea3503364d4c78c4aec4f946d15.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pmem.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Memory management.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="ptypes_8h_source.html">ptypes.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="pmacros_8h_source.html">pmacros.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="perror_8h_source.html">perror.h</a>&gt;</code><br />
</div>
<p><a href="pmem_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPMemVTable__.html">PMemVTable_</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory management table.  <a href="structPMemVTable__.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3bc89070bd733f8d7ed2ae3f2030eb53"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structPMemVTable__.html">PMemVTable_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#a3bc89070bd733f8d7ed2ae3f2030eb53">PMemVTable</a></td></tr>
<tr class="memdesc:a3bc89070bd733f8d7ed2ae3f2030eb53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory management table.  <a href="#a3bc89070bd733f8d7ed2ae3f2030eb53">More...</a><br /></td></tr>
<tr class="separator:a3bc89070bd733f8d7ed2ae3f2030eb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a90221df38de0a1526f0b36bac9a292f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#a90221df38de0a1526f0b36bac9a292f4">p_malloc</a> (<a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a> n_bytes)</td></tr>
<tr class="memdesc:a90221df38de0a1526f0b36bac9a292f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a memory block for the specified number of bytes.  <a href="#a90221df38de0a1526f0b36bac9a292f4">More...</a><br /></td></tr>
<tr class="separator:a90221df38de0a1526f0b36bac9a292f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c547ebee8196341cafcd03309f99f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#a30c547ebee8196341cafcd03309f99f2">p_malloc0</a> (<a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a> n_bytes)</td></tr>
<tr class="memdesc:a30c547ebee8196341cafcd03309f99f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a memory block for the specified number of bytes and fills it with zeros.  <a href="#a30c547ebee8196341cafcd03309f99f2">More...</a><br /></td></tr>
<tr class="separator:a30c547ebee8196341cafcd03309f99f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeddf494eb9e83f5a019e452a2a16bb9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#aeddf494eb9e83f5a019e452a2a16bb9c">p_realloc</a> (<a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> mem, <a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a> n_bytes)</td></tr>
<tr class="memdesc:aeddf494eb9e83f5a019e452a2a16bb9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the memory block size.  <a href="#aeddf494eb9e83f5a019e452a2a16bb9c">More...</a><br /></td></tr>
<tr class="separator:aeddf494eb9e83f5a019e452a2a16bb9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a79636a43d7c245667c9b6254b7f3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#ae7a79636a43d7c245667c9b6254b7f3d">p_free</a> (<a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> mem)</td></tr>
<tr class="memdesc:ae7a79636a43d7c245667c9b6254b7f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a memory block by its pointer.  <a href="#ae7a79636a43d7c245667c9b6254b7f3d">More...</a><br /></td></tr>
<tr class="separator:ae7a79636a43d7c245667c9b6254b7f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccbf001f0001c526feb6d7d1fe39028"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#aeccbf001f0001c526feb6d7d1fe39028">p_mem_set_vtable</a> (const <a class="el" href="pmem_8h.html#a3bc89070bd733f8d7ed2ae3f2030eb53">PMemVTable</a> *table)</td></tr>
<tr class="memdesc:aeccbf001f0001c526feb6d7d1fe39028"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets custom memory management routines.  <a href="#aeccbf001f0001c526feb6d7d1fe39028">More...</a><br /></td></tr>
<tr class="separator:aeccbf001f0001c526feb6d7d1fe39028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ecb63073fdae9a6ba440b4f3000d1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#ad6ecb63073fdae9a6ba440b4f3000d1a">p_mem_restore_vtable</a> (void)</td></tr>
<tr class="memdesc:ad6ecb63073fdae9a6ba440b4f3000d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores system memory management routines.  <a href="#ad6ecb63073fdae9a6ba440b4f3000d1a">More...</a><br /></td></tr>
<tr class="separator:ad6ecb63073fdae9a6ba440b4f3000d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e01249d5541b6810e670d3cabd3d1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#ad1e01249d5541b6810e670d3cabd3d1c">p_mem_mmap</a> (<a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a> n_bytes, <a class="el" href="perror_8h.html#a0ca29fda52d5b97f70f61234be28f1cd">PError</a> **error)</td></tr>
<tr class="memdesc:ad1e01249d5541b6810e670d3cabd3d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a memory mapped block from the system.  <a href="#ad1e01249d5541b6810e670d3cabd3d1c">More...</a><br /></td></tr>
<tr class="separator:ad1e01249d5541b6810e670d3cabd3d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512ab4408e8aaa4890c76a4afeff44b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pmem_8h.html#a512ab4408e8aaa4890c76a4afeff44b1">p_mem_munmap</a> (<a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> mem, <a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a> n_bytes, <a class="el" href="perror_8h.html#a0ca29fda52d5b97f70f61234be28f1cd">PError</a> **error)</td></tr>
<tr class="memdesc:a512ab4408e8aaa4890c76a4afeff44b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps memory back to the system.  <a href="#a512ab4408e8aaa4890c76a4afeff44b1">More...</a><br /></td></tr>
<tr class="separator:a512ab4408e8aaa4890c76a4afeff44b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Memory management. </p>
<dl class="section author"><dt>Author</dt><dd>Alexander Saprykin</dd></dl>
<p>Usually the system routines for memory management are used: malloc(), realloc(), free() and so on. But it is highly encouraged to use a more general approach: <a class="el" href="pmem_8h.html#a90221df38de0a1526f0b36bac9a292f4" title="Allocates a memory block for the specified number of bytes. ">p_malloc()</a>, <a class="el" href="pmem_8h.html#a30c547ebee8196341cafcd03309f99f2" title="Allocates a memory block for the specified number of bytes and fills it with zeros. ">p_malloc0()</a>, <a class="el" href="pmem_8h.html#aeddf494eb9e83f5a019e452a2a16bb9c" title="Changes the memory block size. ">p_realloc()</a> and <a class="el" href="pmem_8h.html#ae7a79636a43d7c245667c9b6254b7f3d" title="Frees a memory block by its pointer. ">p_free()</a> family of memory management routines. It gives you several advantages:</p><ul>
<li>automatical checking of all input parameters for the NULL values;</li>
<li>ability to use a custom memory allocator. You can also mix these two families of calls, but it is not recommended.</li>
</ul>
<p>By default p_* routines are mapped to system calls, thus only NULL-checking is additionally performed. If you want to use the custom memory allocator, then fill in <a class="el" href="pmem_8h.html#a3bc89070bd733f8d7ed2ae3f2030eb53" title="Memory management table. ">PMemVTable</a> structure and pass it to the <a class="el" href="pmem_8h.html#aeccbf001f0001c526feb6d7d1fe39028" title="Sets custom memory management routines. ">p_mem_set_vtable()</a>. To restore system calls back use <a class="el" href="pmem_8h.html#ad6ecb63073fdae9a6ba440b4f3000d1a" title="Restores system memory management routines. ">p_mem_restore_vtable()</a>.</p>
<p>Be careful when using the custom memory allocator: all memory chunks allocated with the custom allocator must be freed with the same allocator. If the custom allocator was installed after the library initialization call <a class="el" href="pmain_8h.html#ae0d0bd9486dbbc2ae49534950c3529ae" title="Initializes library resources. ">p_libsys_init()</a> then you must to restore the original allocator before calling <a class="el" href="pmain_8h.html#ae4378729604cc911628abd3fafd1008d" title="Frees library resources. ">p_libsys_shutdown()</a>.</p>
<p>Use <a class="el" href="pmem_8h.html#ad1e01249d5541b6810e670d3cabd3d1c" title="Gets a memory mapped block from the system. ">p_mem_mmap()</a> to allocate system memory using memory mapping and <a class="el" href="pmem_8h.html#a512ab4408e8aaa4890c76a4afeff44b1" title="Unmaps memory back to the system. ">p_mem_munmap()</a> to release the mapped memory. This type of allocated memory is not backed physically (does not consume any physical storage) by operating system. It means that every memory page within the allocated region will be committed to physical backend only when you first touch it. Until that untouched pages will be reserved for future usage. It can be useful when dealing with large memory blocks which should be filled with data on demand, i.e. custom memory allocator can request a large block first, and then it allocates chunks of memory within the block upon request.</p>
<dl class="section note"><dt>Note</dt><dd>OS/2 supports non-backed memory pages allocation, but in a specific way: an exception handler to control access to uncommitted pages must be allocated on the stack of each thread before using the mapped memory. To unify the behaviour, on OS/2 all memory mapped allocations are already committed to the backing storage. </dd></dl>

<p class="definition">Definition in file <a class="el" href="pmem_8h_source.html">pmem.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a3bc89070bd733f8d7ed2ae3f2030eb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bc89070bd733f8d7ed2ae3f2030eb53">&#9670;&nbsp;</a></span>PMemVTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structPMemVTable__.html">PMemVTable_</a>  <a class="el" href="pmem_8h.html#a3bc89070bd733f8d7ed2ae3f2030eb53">PMemVTable</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Memory management table. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae7a79636a43d7c245667c9b6254b7f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7a79636a43d7c245667c9b6254b7f3d">&#9670;&nbsp;</a></span>p_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td>
          <td class="paramname"><em>mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a memory block by its pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>Pointer to the memory block to free. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>You should only call this function for the pointers which were obtained using the <a class="el" href="pmem_8h.html#a90221df38de0a1526f0b36bac9a292f4" title="Allocates a memory block for the specified number of bytes. ">p_malloc()</a>, <a class="el" href="pmem_8h.html#a30c547ebee8196341cafcd03309f99f2" title="Allocates a memory block for the specified number of bytes and fills it with zeros. ">p_malloc0()</a> and <a class="el" href="pmem_8h.html#aeddf494eb9e83f5a019e452a2a16bb9c" title="Changes the memory block size. ">p_realloc()</a> routines, otherwise behavior is unpredictable.</p>
<p>Checks the pointer for the NULL value. </p>

</div>
</div>
<a id="a90221df38de0a1526f0b36bac9a292f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90221df38de0a1526f0b36bac9a292f4">&#9670;&nbsp;</a></span>p_malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> p_malloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a>&#160;</td>
          <td class="paramname"><em>n_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a memory block for the specified number of bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_bytes</td><td>Size of the memory block in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a newly allocated memory block in case of success, NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="a30c547ebee8196341cafcd03309f99f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c547ebee8196341cafcd03309f99f2">&#9670;&nbsp;</a></span>p_malloc0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> p_malloc0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a>&#160;</td>
          <td class="paramname"><em>n_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a memory block for the specified number of bytes and fills it with zeros. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_bytes</td><td>Size of the memory block in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a newly allocated memory block filled with zeros in case of success, NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="ad1e01249d5541b6810e670d3cabd3d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e01249d5541b6810e670d3cabd3d1c">&#9670;&nbsp;</a></span>p_mem_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> p_mem_mmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a>&#160;</td>
          <td class="paramname"><em>n_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="perror_8h.html#a0ca29fda52d5b97f70f61234be28f1cd">PError</a> **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a memory mapped block from the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">n_bytes</td><td>Size of the memory block in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Error report object, NULL to ignore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the allocated memory block in case of success, NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>Note that some systems can allocate memory only in chunks of the page size, so if <em>n_bytes</em> is less than the page size it will try to allocate a chunk of memory equal to the page size instead.</p>
<p>On most systems returned memory is mapped to the null or swap device.</p>
<dl class="section warning"><dt>Warning</dt><dd>On OS/2 returned memory is mapped to physical storage and can be swapped. </dd></dl>

</div>
</div>
<a id="a512ab4408e8aaa4890c76a4afeff44b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a512ab4408e8aaa4890c76a4afeff44b1">&#9670;&nbsp;</a></span>p_mem_munmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a> p_mem_munmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a>&#160;</td>
          <td class="paramname"><em>n_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="perror_8h.html#a0ca29fda52d5b97f70f61234be28f1cd">PError</a> **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmaps memory back to the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">mem</td><td>Pointer to a memory block previously allocated using the <a class="el" href="pmem_8h.html#ad1e01249d5541b6810e670d3cabd3d1c" title="Gets a memory mapped block from the system. ">p_mem_mmap()</a> call. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">n_bytes</td><td>Size of the memory block in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Error report object, NULL to ignore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE in case of success, FALSE otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
<a id="ad6ecb63073fdae9a6ba440b4f3000d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ecb63073fdae9a6ba440b4f3000d1a">&#9670;&nbsp;</a></span>p_mem_restore_vtable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> void p_mem_restore_vtable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores system memory management routines. </p>
<dl class="section note"><dt>Note</dt><dd>This call is not thread-safe. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>The following system routines are restored: malloc(), free(), realloc(). </p>

</div>
</div>
<a id="aeccbf001f0001c526feb6d7d1fe39028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeccbf001f0001c526feb6d7d1fe39028">&#9670;&nbsp;</a></span>p_mem_set_vtable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#af5cb791e13f977b94e0192f84a5f228b">pboolean</a> p_mem_set_vtable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pmem_8h.html#a3bc89070bd733f8d7ed2ae3f2030eb53">PMemVTable</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets custom memory management routines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>Table of the memory routines to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the table was accepted, FALSE otherwise. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>All members of <em>table</em> must be non-NULL. </dd>
<dd>
This call is not thread-safe. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Do not forget to set the original memory management routines before calling <a class="el" href="pmain_8h.html#ae4378729604cc911628abd3fafd1008d" title="Frees library resources. ">p_libsys_shutdown()</a> if you have used <a class="el" href="pmem_8h.html#aeccbf001f0001c526feb6d7d1fe39028" title="Sets custom memory management routines. ">p_mem_set_vtable()</a> after the library initialization. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1</dd></dl>
<p>In most cases you do not need to use this function. Use it only when you know what are you doing! </p>

</div>
</div>
<a id="aeddf494eb9e83f5a019e452a2a16bb9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeddf494eb9e83f5a019e452a2a16bb9c">&#9670;&nbsp;</a></span>p_realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pmacros_8h.html#afc4a56cf925c0c90d086f3480ffc257c">P_LIB_API</a> <a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a> p_realloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#a4395e523ec472129d35143032d004f22">ppointer</a>&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ptypes_8h.html#acf4b43938ddc5ed59f357c4892e79827">psize</a>&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the memory block size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>Pointer to the memory block. </td></tr>
    <tr><td class="paramname">n_bytes</td><td>New size for <em>mem</em> block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a newlly allocated memory block in case of success (if <em>mem</em> is NULL then it acts like <a class="el" href="pmem_8h.html#a90221df38de0a1526f0b36bac9a292f4" title="Allocates a memory block for the specified number of bytes. ">p_malloc()</a>), NULL otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.0.1 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
